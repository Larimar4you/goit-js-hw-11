{"version":3,"file":"index.js","sources":["../src/js/picabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '47085214-4cff0ba1bb96c64321ec3a8d9';\n\nexport async function fetchImages(query, page = 1, perPage = 12) {\n  try {\n    const params = new URLSearchParams({\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n      page,\n      per_page: perPage,\n    });\n\n    const response = await fetch(`${BASE_URL}?${params.toString()}`);\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch images');\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw error;\n  }\n}\n","// Импорты\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryEl = document.querySelector('.gallery');\n\nexport function renderGallery(images) {\n  // Очищаем галерею перед добавлением новых изображений\n  clearGallery();\n  galleryEl.innerHTML = images.map(createImageCardMarkup).join('');\n\n  // Инициализируем SimpleLightbox\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  lightbox.refresh();\n}\n\nfunction createImageCardMarkup({\n  largeImageURL,\n  webformatURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `\n    <a href=\"${largeImageURL}\" class=\"gallery_item\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery_image\" width=\"380\" loading=\"lazy\"/>\n      <div class=\"info\">\n        <p class=\"info-item\"><b>Likes:</b> ${likes}</p>\n        <p class=\"info-item\"><b>Views:</b> ${views}</p>\n        <p class=\"info-item\"><b>Comments:</b> ${comments}</p>\n        <p class=\"info-item\"><b>Downloads:</b> ${downloads}</p>\n      </div>\n    </a>\n  `;\n}\n\n// Функция очистки галереи\nexport function clearGallery() {\n  galleryEl.innerHTML = '';\n}\n\n// Функция отображения сообщения об отсутствии результатов\nexport function showNoResultsMessage() {\n  iziToast.info({\n    title: 'Info',\n    message: 'No images found for your search query.',\n    position: 'topRight',\n  });\n}\n","// Описаний у документаціїimport iziToast from \"izitoast\";\n// Додатковий імпорт стилівimport \"izitoast/dist/css/iziToast.min.css\";\n// npm install izitoast --save\n\n// Імпортуємо функціїimport { fetchImages } from \"./js/pixabay-api\";\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchImages } from './js/picabay-api';\nimport { renderGallery } from './js/render-functions';\nimport { showNoResultsMessage } from './js/render-functions';\nimport { clearGallery } from './js/render-functions';\n\nconst loader = document.querySelector('.loader');\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', async event => {\n  // Скасовуємо перезавантаження сторінки\n  event.preventDefault();\n\n  const searchQuery = event.target.elements.query.value.trim();\n  if (!searchQuery) {\n    return showError('Please enter your request');\n  }\n\n  clearGallery();\n  toggleLoader(true);\n\n  try {\n    const data = await fetchImages(searchQuery);\n    if (data.hits && data.hits.length) {\n      renderGallery(data.hits);\n    } else {\n      showNoResultsMessage();\n    }\n  } catch (error) {\n    console.error(error); // Виведення помилки в консоль\n    // showError(\"Something went wrong. Please try again!\");\n  } finally {\n    toggleLoader(false);\n  }\n});\n\nfunction showError(message) {\n  iziToast.error({ title: 'Error', position: 'topRight', message });\n}\n\n// Функція для відображення/приховування індикатора завантаження\nfunction toggleLoader(isVisible) {\n  loader.style.display = isVisible ? 'block' : 'none';\n}\n"],"names":["BASE_URL","API_KEY","fetchImages","query","page","perPage","params","response","error","galleryEl","renderGallery","images","clearGallery","createImageCardMarkup","SimpleLightbox","largeImageURL","webformatURL","tags","likes","views","comments","downloads","showNoResultsMessage","iziToast","loader","form","event","searchQuery","showError","toggleLoader","data","message","isVisible"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAET,eAAeC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CAC/D,GAAI,CACF,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKL,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,KAAAC,EACA,SAAUC,CAChB,CAAK,EAEKE,EAAW,MAAM,MAAM,GAAGP,CAAQ,IAAIM,EAAO,UAAU,EAAE,EAE/D,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAI1C,OADa,MAAMA,EAAS,MAE7B,OAAQC,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACP,CACH,CCpBA,MAAMC,EAAY,SAAS,cAAc,UAAU,EAE5C,SAASC,EAAcC,EAAQ,CAEpCC,IACAH,EAAU,UAAYE,EAAO,IAAIE,CAAqB,EAAE,KAAK,EAAE,EAG9C,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAClB,CAAG,EACQ,QAAO,CAClB,CAEA,SAASD,EAAsB,CAC7B,cAAAE,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA,eACMN,CAAa;AAAA,kBACVC,CAAY,UAAUC,CAAI;AAAA;AAAA,6CAECC,CAAK;AAAA,6CACLC,CAAK;AAAA,gDACFC,CAAQ;AAAA,iDACPC,CAAS;AAAA;AAAA;AAAA,GAI1D,CAGO,SAAST,GAAe,CAC7BH,EAAU,UAAY,EACxB,CAGO,SAASa,GAAuB,CACrCC,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,yCACT,SAAU,UACd,CAAG,CACH,CC3CA,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAU,MAAMC,GAAS,CAE7CA,EAAM,eAAc,EAEpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,MAAM,MAAM,OACtD,GAAI,CAACC,EACH,OAAOC,EAAU,2BAA2B,EAG9ChB,IACAiB,EAAa,EAAI,EAEjB,GAAI,CACF,MAAMC,EAAO,MAAM5B,EAAYyB,CAAW,EACtCG,EAAK,MAAQA,EAAK,KAAK,OACzBpB,EAAcoB,EAAK,IAAI,EAEvBR,GAEH,OAAQd,EAAO,CACd,QAAQ,MAAMA,CAAK,CAEvB,QAAY,CACRqB,EAAa,EAAK,CACnB,CACH,CAAC,EAED,SAASD,EAAUG,EAAS,CAC1BR,EAAS,MAAM,CAAE,MAAO,QAAS,SAAU,WAAY,QAAAQ,CAAO,CAAE,CAClE,CAGA,SAASF,EAAaG,EAAW,CAC/BR,EAAO,MAAM,QAAUQ,EAAY,QAAU,MAC/C"}